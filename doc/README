
Note: wcdj is a repo that includes useful codes or libs at common work or study (first commit locally from my macbook)


----------------------------------------------------
update: 2014-03-05
1, modify start shell script to support multi-client.
Note: in order to test performance, you should use [./safe_wcdj_client.sh start > /dev/null], do not use printf, etc. system function.
2, add some tools to show top, cpu and /proc/* info.
3, add SVR_BLOCK_ACCEPT macro: 
If you set this macro that svr uses block msgrcv to accept request (CPU usage will not high). In the opposite, do not set this macro that svr will accept request in non-block mode (CPU usage is always 100%).
Note that this macro is only used in SERVER_MODE.

PS: performance test result:
Environment, suse32, 15G memory, 1cpu, 4cores
10 clients -> svmq -> 1 svr, 15k msgsize, 10w+/s, %CPU=100, so read/write bandwidth is about (15k*10^5)/s = 1.5GB/s 
10 clients -> svmq -> 1 svr, 32 msgsize, 70w+/s, %CPU=100, so read/write bandwidth is about (32*7*10^5)/s = 22MB/s


----------------------------------------------------
update: 2014-03-04
1, add comm libs, includes string-parse, option-parse[like ./prog -para1=value1 -para2=value2 ... dest], so you could transmit paras to prog.


----------------------------------------------------
update: 2014-02-28
1, make tools directory and add SV-MQ monitor script, compare file script


----------------------------------------------------
update: 2014-02-27
1, add SV-MQ including block and non-block interface
note: System V IPC do not belongs to POSIX standard, you can find /usr/include/linux/msg.h and see some about Linux ipc data structure.

You may use command [/sbin/sysctl -a | grep msg] to see current kernel paras, or use below command to see separately:
cat /proc/sys/kernel/msgmnb, this means max size of a message queue.
cat /proc/sys/kernel/msgmax, this means max size of message (bytes).
cat /proc/sys/kernel/msgmni, this means max # of msg queue identifiers.

You may use command [ipcs -q | grep key] to see the status about queue. If you wanna delete the queue you created just now, you may use command [ipcrm -Q key] or [ipcrm -q msqid] to delete it.


----------------------------------------------------
update: 2014-02-22
1, create wcdj repo
2, svr is a daemon
3, add terminal and file log
4, You can check ur program version using below command:
strings ur_prog | grep "Version"
Linux SUSE like this:
WCDJ|VersionV1.0R010_2014/02/22-22:31:01 |gcc_4.1.2 20070115 (prerelease) (SUSE Linux)
OS X like this:
WCDJ|VersionV1.0R010_2014/02/22-22:31:01 |gcc_4.2.1 Compatible Apple LLVM 5.0 (clang-500.2.79)

